<!DOCTYPE html>
<html>
    <head>
        <title>合成字体-Astros文档</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="../css/p/doc-start.css?v="/>
        <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon" />
        <!-- <link rel="stylesheet" href="../css/prettify-tomorrow.css"> -->
    </head>
    <body>
    	<div id="astro-wrap" class="g-main">
			<div class="header">
    <div class="section">
        <h1 class="logo"></h1>
        <ul class="nav">
            <li><a class="" href="/">首页</a></li>
            <li><a class="active" href="/doc/start">文档</a></li>
            <li><a class="" href="#">中间件列表</a></li>
            <li><a href="https://github.com/lemonabc/astros/issues">问题</a></li>
        </ul>
    </div>
</div>
            <section class="section">
                <!-- 文档左侧菜单 -->
<div class="side-menu doc-menu">
    <dl>
        <dt><a class=""  href="start">快速开始</a></dt>
    </dl>
    <dl>
        <dt>使用指南</dt>
        <dd>
            <a class="" href="page">创建页面</a></dd>
        <dd>
            <a class="" href="mod">模块化</a></dd>
        <dd>
            <a class="" href="res-ref">资源引用</a>
        </dd>
        <dd>
            <a class="" href="image">图片处理</a>
        </dd>
        <dd>
            <a class="on" href="font">SVG转字体</a>
        </dd>
    </dl>
    <dl>
        <dt>开发文档</dt>
        <dd>
            <a class="" href="astros">Astros对象</a>
        </dd>
        <dd>
            <a class="" href="asset">Asset对象</a>
        </dd>
        <dd>
        <a class="" href="middleware">开发中间件</a>
        </dd>
        <dd>
            <a class="" href="release">发布</a>
        </dd>        
    </dl>
</div>
                <div class="doc-wrap">
                    
<p>该功能通过中间件<code>astros-svgfont</code>实现。</p>

<p><code>astros-svgfont</code>会把<code>img/svg</code>目录下的svg图标生成eot,svg,ttf,woff四种字体,并自动生成对应svg名的css代码，插入到通用less之后和对应页面less之前。</p>

<h3 id="toc_0">配置</h3>

<p>static.js需要配置两个参数</p>

<div><pre><code class="language-none">{
    name:&#39;astros-svgfont&#39;,
    config:{
        fontUrl:&#39;/fonts/&#39;,  //字体文件存放路径
        base64:true         //移动端兼容性最好，pc不建议使用
    }
}</code></pre></div>

<h3 id="toc_1">SVG文件存放位置</h3>

<div><pre><code class="language-none">--assets
  --svg
      --icons（生成的字体名称就是目录名称，即icons）
        --car.svg
        --user.svg
      --button
        --loading.svg</code></pre></div>

<p>根据以上目录结构，生成的字体分别icons和button</p>

<h3 id="toc_2">该中间件会根据svg名称自动生成对应的class，以icons为例：</h3>

<h4 id="toc_3">@font-face（自动生成的）</h4>

<div><pre><code class="language-none">@font-face {
    font-family: &quot;icons&quot;;
    src: url(&quot;/fonts/font2.eot?v=true&quot;);
    src: url(&quot;/fonts/font2.eot?v=true&quot;) format(&quot;embedded-opentype&quot;), url(&quot;/fonts/font2.woff?v=true&quot;) format(&quot;woff&quot;), url(&quot;/fonts/font2.ttf?v=true&quot;) format(&quot;truetype&quot;), url(&quot;/fonts/font2.svg?v=true&quot;) format(&quot;svg&quot;);
    font-weight: normal;
    font-style: normal;
}</code></pre></div>

<h5 id="toc_4">CSS(自动生成)</h5>

<div><pre><code class="language-none">.i-loading:before {
     content: &quot;\e900&quot;;
    
 }
 .i-car:before {
    content: &quot;\e605&quot;;
 }</code></pre></div>

<h3 id="toc_5">使用方式</h3>

<h3 id="toc_6">CSS</h3>

<div><pre><code class="language-none">/* ICON基础类 */
.m-icon{
    display: inline-block;
    width: 50px;
    height: 50px;
    font-size: 24px;
    color: #dedede;
    font-family: &quot;icons&quot;;
}</code></pre></div>

<h3 id="toc_7">HTML</h3>

<div><pre><code class="language-none">&lt;i class=&quot;m-icon i-loading&quot;&gt;&lt;/i&gt;</code></pre></div>

                </div>
            </section>
            <!-- <script src="../js/prettify.js"></script> -->
        </div>
    </body>
</html>
